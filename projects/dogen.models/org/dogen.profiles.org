#+title: dogen.profiles
#+options: <:nil c:nil todo:nil ^:nil d:nil date:nil author:nil
#+tags: { element(e) attribute(a) module(m) }
:PROPERTIES:
:masd.codec.dia.comment: true
:masd.codec.model_modules: dogen.profiles
:masd.codec.reference: masd
:masd.codec.input_technical_space: agnostic
:masd.codec.is_proxy_model: true
:masd.cpp.enabled: false
:masd.csharp.enabled: false
:END:

Top-level model in Dogen that contains all of the shared
types at the meta-model level.

This model is not intended to be generated. If generated,
should not produce any output.

You should be able to reference this model from any technical
space; keep it technical space agnostic.

* base                                                               :module:
  :PROPERTIES:
  :masd.codec.dia.comment: true
  :END:

The base layer profiles are designed to be applied first.
Their objective is to set the initial state from which
other layers can then configure features.



** decoration                                                       :element:
   :PROPERTIES:
   :masd.variability.binding_point: global
   :masd.variability.key_prefix: masd.decoration
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Configuration for the decoration elements.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** licence_name                                                  :attribute:
    :PROPERTIES:
    :masd.codec.value: masd.gpl_v3
    :END:
*** modeline_group_name                                           :attribute:
    :PROPERTIES:
    :masd.codec.value: masd.emacs
    :END:
*** copyright_notice                                              :attribute:
    :PROPERTIES:
    :masd.variability.value: Copyright (C) 2012-2015 Marco Craveiro <marco.craveiro@gmail.com>
    :END:
** extraction                                                       :element:
   :PROPERTIES:
   :masd.variability.key_prefix: masd.physical
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Configuration for extraction.

*** delete_extra_files                                            :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** delete_empty_directories                                      :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
** csharp                                                           :element:
   :PROPERTIES:
   :masd.variability.key_prefix: masd.csharp
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Configures the main options for the C# backend.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** ignores                                                          :element:
   :PROPERTIES:
   :masd.variability.binding_point: global
   :masd.variability.key_prefix: masd.physical
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Regexes to ignore.

FIXME: we should remove all ignores related to tests and add a proper facet for manual tests.

*** ignore_files_matching_regex                                   :attribute:
    :PROPERTIES:
    :masd.codec.value: .*/test/.*
    :END:
*** ignore_files_matching_regex                                   :attribute:
    :PROPERTIES:
    :masd.codec.value: .*/tests/.*
    :END:
** base                                                             :element:
   :PROPERTIES:
   :masd.codec.parent: base::decoration, base::extraction, base::csharp, base::ignores
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** masd.cpp.standard                                             :attribute:
    :PROPERTIES:
    :masd.codec.value: c++-17
    :END:
** base_profile                                                     :element:
   :PROPERTIES:
   :masd.variability.key_prefix: masd.cpp
   :masd.codec.parent: base::base
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Configures the main options for the C++ backend.

*** odb.enabled                                                   :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** hash.enabled                                                  :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** serialization.enabled                                         :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** lexical_cast.enabled                                          :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** tests.enabled                                                 :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** test_data.enabled                                             :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** default_profile                                                  :element:
   :PROPERTIES:
   :masd.variability.binding_point: global
   :masd.codec.parent: base::base_profile
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Variability profile for a typical dogen model.

** disable_all_facets                                               :element:
   :PROPERTIES:
   :masd.variability.binding_point: global
   :masd.codec.parent: base::base
   :masd.codec.stereotypes: masd::variability::profile_template
   :END:


Disables all facets in the C++ backend.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.variability.instantiation_domain_name: masd.facet
    :masd.codec.value: false
    :END:
** relational_profile                                               :element:
   :PROPERTIES:
   :masd.variability.key_prefix: masd.cpp
   :masd.codec.parent: base::base_profile
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** odb.enabled                                                   :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** build.enabled                                                 :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
** test_all_facets                                                  :element:
   :PROPERTIES:
   :masd.codec.parent: base::base
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** masd.decoration.marker_name                                   :attribute:
    :PROPERTIES:
    :masd.codec.value: dogen.profiles.test_marker
    :END:
*** masd.cpp.tests.main.enabled                                   :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
* composable                                                         :module:
  :PROPERTIES:
  :masd.codec.dia.comment: true
  :END:

The composable layer is made up of profiles that
are meant to be applied on top of the base layer.
These can be used to compose the final configuration
for the element.

** typeable                                                         :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::typeable
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Model element is defined as a type.

*** masd.cpp.types.enabled                                        :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** masd.variability.profile                                      :attribute:
    :PROPERTIES:
    :masd.codec.value: dogen.profiles.base.disable_all_facets
    :END:

If you are typeable, it probably means you do not want the default configuration,
so we disable all facets.

** pretty_printable                                                 :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::pretty_printable
   :masd.variability.key_prefix: masd.cpp.io
   :masd.codec.stereotypes: masd::variability::profile
   :END:

The element has the ability to dump itself to a stream.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
** hashable                                                         :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::hashable
   :masd.variability.key_prefix: masd.cpp.hash
   :masd.codec.stereotypes: masd::variability::profile
   :END:

The element has the ability to generate hashes.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
** serializable                                                     :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::serializable
   :masd.variability.key_prefix: masd.cpp.serialization
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
** handcrafted                                                      :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Base profile for model elements that are manually generated.

*** masd.variability.profile                                      :attribute:
    :PROPERTIES:
    :masd.codec.value: dogen.profiles.base.disable_all_facets
    :END:
** handcrafted_pretty_printable                                     :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::handcrafted::pretty_printable
   :masd.variability.key_prefix: masd.cpp.io
   :masd.codec.parent: composable::handcrafted
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** overwrite                                                     :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** handcrafted_typeable                                             :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::handcrafted::typeable
   :masd.variability.key_prefix: masd.cpp.types
   :masd.codec.parent: composable::handcrafted
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Configuration for model elements that are generated manually by the user.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** overwrite                                                     :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** class_forward_declarations.enabled                            :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** header_only                                                      :element:
   :PROPERTIES:
   :masd.variability.binding_point: global
   :masd.variability.stereotype: dogen::handcrafted::typeable::header_only
   :masd.variability.key_prefix: masd.cpp.types
   :masd.codec.parent: composable::handcrafted_typeable
   :masd.codec.stereotypes: masd::variability::profile
   :END:

This element has only a types header file.

*** class_implementation.enabled                                  :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** inheritable                                                      :element:
   :PROPERTIES:
   :masd.variability.binding_point: global
   :masd.variability.stereotype: dogen::inheritable
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** masd.generalization.is_final                                  :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** implementation_only                                              :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::handcrafted::typeable::implementation_only
   :masd.variability.key_prefix: masd.cpp.types
   :masd.codec.parent: composable::handcrafted_typeable
   :masd.codec.stereotypes: masd::variability::profile
   :END:

This element has only a types implementation file.

*** class_header.enabled                                          :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** class_forward_declarations.enabled                            :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
*** class_implementation.enabled                                  :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
** handcrafted_serializable                                         :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::handcrafted::serializable
   :masd.variability.key_prefix: masd.cpp.serialization
   :masd.codec.parent: composable::handcrafted
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** overwrite                                                     :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** convertible                                                      :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::convertible
   :masd.variability.key_prefix: masd.cpp.lexical_cast
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
** untestable                                                       :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::untestable
   :masd.variability.key_prefix: masd.cpp.tests
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Model element will not be tested via generated tests.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** untypable                                                        :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::untypable
   :masd.variability.key_prefix: masd.cpp.types
   :masd.codec.stereotypes: masd::variability::profile
   :END:

The element does not have a types facet.

*** enabled                                                       :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** handcrafted_cmake                                                :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::handcrafted::cmake
   :masd.variability.key_prefix: masd.cpp
   :masd.codec.stereotypes: masd::variability::profile
   :END:
*** build.enabled                                                 :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
*** build.overwrite                                               :attribute:
    :PROPERTIES:
    :masd.codec.value: false
    :END:
** forward_declarable                                               :element:
   :PROPERTIES:
   :masd.variability.binding_point: element
   :masd.variability.stereotype: dogen::forward_declarable
   :masd.variability.key_prefix: masd.cpp.types
   :masd.codec.stereotypes: masd::variability::profile
   :END:

Element has forward declarations.

*** class_forward_declarations.enabled                            :attribute:
    :PROPERTIES:
    :masd.codec.value: true
    :END:
* test_marker                                                       :element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::decoration::generation_marker
  :END:
** add_date_time                                                  :attribute:
   :PROPERTIES:
   :masd.codec.value: true
   :END:
** add_warning                                                    :attribute:
   :PROPERTIES:
   :masd.codec.value: true
   :END:
** add_dogen_version                                              :attribute:
   :PROPERTIES:
   :masd.codec.value: true
   :END:
** message                                                        :attribute:

These files are code-generated via overrides to test dogen. Do not commit them.

